# –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (valid states)

**–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (valid states)**: –∏–¥–µ—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã **–Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—ã–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã** —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ç–∏–ø–æ–≤.

---

## üß† –¶–µ–ª—å:

> **–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –∫–æ–¥, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–æ—Å—Ç–æ –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª—Å—è.**

---

## ‚úÖ –ü—Ä–∏–Ω—Ü–∏–ø—ã:

1. **–ò—Å–ø–æ–ª—å–∑—É–π –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (`|`) –∏ –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã** –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.
2. **–†–∞–∑–¥–µ–ª—è–π —Å–æ—Å—Ç–æ—è–Ω–∏—è —è–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º** (discriminated unions).
3. **–ò–∑–±–µ–≥–∞–π –ª–∏—à–Ω–∏—Ö `null | undefined` –±–µ–∑ –Ω—É–∂–¥—ã.**
4. **–î–µ–ª–∞–π –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–º** –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤.

---

## üîß –ü—Ä–∏–º–µ—Ä: –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–º–æ–∂–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ):

```ts
type DataState = {
  loading: boolean;
  data?: string;
  error?: string;
};

// –ú–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å: { loading: true, error: "fail" } ‚Äî —á—Ç–æ –Ω–µ–ª–æ–≥–∏—á–Ω–æ!
```

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (–º–æ–¥–µ–ª–∏—Ä—É–µ–º –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —è–≤–Ω–æ):

```ts
type Loading = { status: "loading" };
type Success = { status: "success"; data: string };
type Error = { status: "error"; error: string };

type DataState = Loading | Success | Error;

// –¢–µ–ø–µ—Ä—å —Å—Ç–∞—Ç—É—Å —Å—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω:
const state: DataState = { status: "success", data: "hello" };
```

üß† –¢–µ–ø–µ—Ä—å TypeScript –∑–∞—Å—Ç–∞–≤–∏—Ç —Ç–µ–±—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Å–ª—É—á–∞–∏:

```ts
function render(state: DataState) {
  switch (state.status) {
    case "loading":
      return "–ó–∞–≥—Ä—É–∑–∫–∞...";
    case "success":
      return `–î–∞–Ω–Ω—ã–µ: ${state.data}`;
    case "error":
      return `–û—à–∏–±–∫–∞: ${state.error}`;
  }
}
```

---

## üß± –ü—Ä–∏–º–µ—Ä: —Ñ–æ—Ä–º—ã

```ts
type ValidForm = { valid: true; values: { name: string } };
type InvalidForm = { valid: false; errors: string[] };

type FormState = ValidForm | InvalidForm;

function handleForm(f: FormState) {
  if (f.valid) {
    f.values.name; // ‚úÖ TypeScript –∑–Ω–∞–µ—Ç: valid ‚Üí –µ—Å—Ç—å values
  } else {
    f.errors;      // ‚úÖ valid: false ‚Üí –µ—Å—Ç—å errors
  }
}
```

---

## üìå –¢–µ—Ö–Ω–∏–∫–∞: \[**Tagged unions** / Discriminated unions\*\*]

–ò—Å–ø–æ–ª—å–∑—É–π:

```ts
{ kind: "..." } –∏–ª–∏ { type: "..." } –∏–ª–∏ { status: "..." }
```

—á—Ç–æ–±—ã TypeScript –º–æ–≥ **—Å—É–∂–∞—Ç—å —Ç–∏–ø** –≤–Ω—É—Ç—Ä–∏ `if` –∏–ª–∏ `switch`.

---

## ‚ú® –ü–ª—é—Å—ã –ø–æ–¥—Ö–æ–¥–∞

| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å                          | –ü–æ–≤–µ–¥–µ–Ω–∏–µ                  |
| ------------------------------------- | -------------------------- |
| –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | –¢–∏–ø—ã –∑–∞—â–∏—â–∞—é—Ç –æ—Ç –æ—à–∏–±–æ–∫    |
| –õ–µ–≥—á–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≤–µ—Ç–≤–∏   | –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —É—á—Ç–µ–Ω—ã —è–≤–Ω–æ   |
| –£–ª—É—á—à–∞–µ—Ç—Å—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ             | IntelliSense –ø–æ–º–æ–≥–∞–µ—Ç      |
| –ü–æ–≤–µ–¥–µ–Ω–∏–µ —á—ë—Ç–∫–æ –ø–æ –º–æ–¥–µ–ª–∏             | –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∏ –ø–æ–Ω—è—Ç—å ‚Äî –ª–µ–≥–∫–æ |

---

## ‚ùóÔ∏è –ù–µ –¥–æ–ø—É—Å–∫–∞–π —Ç–∞–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:

```ts
type User = {
  loggedIn: boolean;
  token?: string;
};
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å: `{ loggedIn: false, token: "abc" }` ‚Äî –±–µ—Å—Å–º—ã—Å–ª–∏—Ü–∞.

‚úÖ –õ—É—á—à–µ:

```ts
type LoggedOut = { loggedIn: false };
type LoggedIn = { loggedIn: true; token: string };
type User = LoggedOut | LoggedIn;
```

---

## üß† –ü–æ–¥—Å–∫–∞–∑–∫–∞: —Ç–∏–ø—ã = –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

–ï—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–∏–ø –∫–∞–∫ **–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤**, —Ç–æ —Ö–æ—Ä–æ—à–∞—è –º–æ–¥–µ–ª—å ‚Äî —ç—Ç–æ **—Ç–æ—á–Ω–æ –∑–∞–¥–∞–Ω–Ω–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ**: —Ç–æ–ª—å–∫–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

---

## üîö –†–µ–∑—é–º–µ

üéØ **–í—Å–µ–≥–¥–∞ –æ–ø–∏—Å—ã–≤–∞–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –ø—Ä–æ—Å—Ç–æ –Ω–µ –º–æ–≥–ª–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å:**

* –ò—Å–ø–æ–ª—å–∑—É–π –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (`|`) –∏ –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏ (`status`, `type`, `kind`).
* –†–∞–∑–¥–µ–ª—è–π —Å–æ—Å—Ç–æ—è–Ω–∏—è, –Ω–µ —Å–º–µ—à–∏–≤–∞–π –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø–æ–ª—è.
* –ü—É—Å—Ç—å TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–º–µ—Å—Ç–æ —Ç–µ–±—è.

---

