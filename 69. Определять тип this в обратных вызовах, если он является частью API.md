–í TypeScript –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ **—è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø `this`**, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Ç—ã —Å–æ–∑–¥–∞—ë—à—å **API —Å –æ–±—Ä–∞—Ç–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ (callbacks)**, –≥–¥–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç `this` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω.

---

## üîß –ö–∞–∫ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø `this` –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö

TypeScript –ø–æ–∑–≤–æ–ª—è–µ—Ç **—É–∫–∞–∑–∞—Ç—å `this` –∫–∞–∫ –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä** —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å).

### ‚úÖ –ü—Ä–∏–º–µ—Ä:

```ts
interface Button {
  text: string;

  /**
   * –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è.
   * @param callback –û–±—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤ —Å `this`, —É–∫–∞–∑—ã–≤–∞—é—â–∏–º –Ω–∞ –∫–Ω–æ–ø–∫—É.
   */
  onClick(this: Button, callback: () => void): void;
}
```

–¢–µ–ø–µ—Ä—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

```ts
const button: Button = {
  text: "OK",
  onClick(this: Button, callback: () => void) {
    callback.call(this); // `this` –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ Button
  },
};
```

–ò –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç:

```ts
button.onClick(function () {
  console.log(this.text); // `this` ‚Äî —ç—Ç–æ Button!
});
```

‚û°Ô∏è TypeScript **–ø–æ–Ω–∏–º–∞–µ—Ç —Ç–∏–ø `this` –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏**, –µ—Å–ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `function`, –∞ –Ω–µ —Å—Ç—Ä–µ–ª–∫—É!

---

## ‚ùå –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ **–Ω–µ –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ `this`**. –ü—Ä–∏–º–µ—Ä:

```ts
button.onClick(() => {
  console.log(this.text); // ‚ùå 'this' –∑–¥–µ—Å—å ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–µ Button
});
```

---

## ‚öôÔ∏è –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Å `this` –≤ —Ç–∏–ø–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –æ–ø–∏—Å–∞—Ç—å —Ç–∏–ø –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –æ—Ç–¥–µ–ª—å–Ω–æ:

```ts
type ClickHandler = (this: Button) => void;

interface Button {
  onClick(handler: ClickHandler): void;
}
```

---

## üß† –ö—É–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ?

* –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ DOM-like —Å–æ–±—ã—Ç–∏–π
* API, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
* Fluent API –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

---

## üì¶ –ë–æ–Ω—É—Å: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `bind`

–ü–æ—Å–∫–æ–ª—å–∫—É TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ `this: Button`, —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ `this` –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω:

```ts
button.onClick(function () {
  console.log(this.text); // ‚úÖ OK
});

button.onClick(() => {
  console.log(this.text); // ‚ùå –û—à–∏–±–∫–∞: this –Ω–µ Button
});
```

---

## ‚úÖ –í—ã–≤–æ–¥

* –ò—Å–ø–æ–ª—å–∑—É–π `this: Type` –∫–∞–∫ **–ø–µ—Ä–≤—ã–π –Ω–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä** –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –º–µ—Ç–æ–¥–µ
* –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö (`function`) —Ñ—É–Ω–∫—Ü–∏–π, –Ω–µ –¥–ª—è —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö
* –ü–æ–∑–≤–æ–ª—è–µ—Ç TypeScript –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
* –û—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö API —Å callback'–∞–º–∏**

---

