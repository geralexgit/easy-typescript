# –ê—É–≥–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–¥—É–ª–µ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ç–∏–ø–æ–≤

**–ê—É–≥–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π (module augmentation)** –≤ TypeScript ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± **—Ä–∞—Å—à–∏—Ä–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø—ã, —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –º–æ–¥—É–ª–µ**, –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—è —Å–∞–º –º–æ–¥—É–ª—å –Ω–∞–ø—Ä—è–º—É—é.

–≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏:

* –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–∏–ø–æ–≤ –∫ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º (`express`, `react`, –∏ —Ç.–¥.)
* –£–ª—É—á—à–µ–Ω–∏–∏ —Ç–∏–ø–æ–≤ –≤ —Å–ª–∞–±–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö
* –†–∞—Å—à–∏—Ä–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ

---

## üîß –ü—Ä–∏–º–µ—Ä: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ `express.Request`

–î–æ–ø—É—Å—Ç–∏–º, –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤ `Request` –Ω–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ:

```ts
// types/express.d.ts
import "express";

declare module "express" {
  interface Request {
    user?: { id: string; role: string };
  }
}
```

–¢–µ–ø–µ—Ä—å –≤–æ –≤—Å—ë–º –ø—Ä–æ–µ–∫—Ç–µ –≤—ã –º–æ–∂–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–∏—Å–∞—Ç—å:

```ts
app.get("/profile", (req, res) => {
  console.log(req.user?.id); // ‚úÖ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–æ!
});
```

---

## üí° –í–∞–∂–Ω–æ:

1. **–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–æ–¥—É–ª–µ–º** (–∏–º–µ—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω `import`/`export`)
2. –ò–º—è –º–æ–¥—É–ª—è –≤ `declare module "..."` –¥–æ–ª–∂–Ω–æ —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ–≥–æ –ø–∞–∫–µ—Ç–∞

---

## üß© –ü—Ä–∏–º–µ—Ä —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –º–æ–¥—É–ª–µ–º

```ts
// original.ts
export interface Config {
  debug: boolean;
}
```

```ts
// augment.ts
import "./original";

declare module "./original" {
  interface Config {
    port?: number;
  }
}
```

–¢–µ–ø–µ—Ä—å `Config` –≤–∫–ª—é—á–∞–µ—Ç –∏ `debug`, –∏ `port`.

---

## üõ† –ß–∞—Å—Ç—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

```ts
declare global {
  interface Window {
    analytics: any;
  }
}
```

> –¢—É—Ç `declare global` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –±–µ–∑ –º–æ–¥—É–ª—è.

---

## üì¶ –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è:

* –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `Jest`, `Cypress`, `Express`, `Next.js` API
* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ `Request`, `Window`, `Error`
* –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Ç–∏–ø–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ–ø–æ–ª–Ω—ã–µ

---

## ‚úÖ –°–æ–≤–µ—Ç—ã:

* –î–µ–ª–∞–π —ç—Ç–æ –≤ `.d.ts` —Ñ–∞–π–ª–∞—Ö
* –ò—Å–ø–æ–ª—å–∑—É–π `declare module` —Ç–æ–ª—å–∫–æ –¥–ª—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥—É–ª–µ–π
* –ù–µ –ø—É—Ç–∞–π —Å **–º–µ—Ä–¥–∂–∏–Ω–≥–æ–º –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π** ‚Äî –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)

---
