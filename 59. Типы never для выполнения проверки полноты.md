# –¢–∏–ø—ã never –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–Ω–æ—Ç—ã

–¢–∏–ø `never` –≤ TypeScript –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–Ω–æ—Ç—ã (exhaustiveness check)** ‚Äî —Ç–æ –µ—Å—Ç—å, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ **–≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏** –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å **–¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ (discriminated unions)** –∏ `switch` –∏–ª–∏ `if`-–ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏.

---

## üîç –ß—Ç–æ –∑–Ω–∞—á–∏—Ç "–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã"?

> –≠—Ç–æ –∫–æ–≥–¥–∞ –≤—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç–µ, —á—Ç–æ **–≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —É—á—Ç–µ–Ω—ã ‚Äî –∏ **–Ω–∏ –æ–¥–∏–Ω –Ω–µ –ø—Ä–æ–ø—É—â–µ–Ω**.

---

## üìå –ü—Ä–∏–º–µ—Ä: –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ

```ts
type Shape =
  | { kind: "circle"; radius: number }
  | { kind: "square"; side: number }
  | { kind: "rectangle"; width: number; height: number };
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–º–æ—â—å—é `never`

```ts
function area(shape: Shape): number {
  switch (shape.kind) {
    case "circle":
      return Math.PI * shape.radius ** 2;

    case "square":
      return shape.side ** 2;

    case "rectangle":
      return shape.width * shape.height;

    default:
      // üëá –∑–¥–µ—Å—å `shape` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∞ `never`
      const _exhaustiveCheck: never = shape;
      return _exhaustiveCheck;
  }
}
```

### üîí –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

* –ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –≤ `Shape` **–Ω–æ–≤—ã–π –≤–∏–¥ —Ñ–∏–≥—É—Ä—ã**, –Ω–æ **–∑–∞–±—É–¥–µ—Ç–µ –ø—Ä–æ –Ω–µ–≥–æ –≤ `switch`**, TypeScript –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É:

  > "Type '{ kind: "triangle", ... }' is not assignable to type 'never'"

---

## ‚úÖ –¢–æ –∂–µ —Å–∞–º–æ–µ —Å `if/else`

```ts
function render(shape: Shape) {
  if (shape.kind === "circle") {
    return "Circle";
  } else if (shape.kind === "square") {
    return "Square";
  } else if (shape.kind === "rectangle") {
    return "Rectangle";
  } else {
    const _never: never = shape; // ‚õîÔ∏è –µ—Å–ª–∏ –ø–æ—è–≤–∏–ª—Å—è –Ω–µ—É—á—Ç—ë–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
    return _never;
  }
}
```

---

## üéØ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ **–≤—ã –Ω–µ –∑–∞–±—ã–ª–∏** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–ª—É—á–∞–∏
* –£—Å—Ç—Ä–∞–Ω—è–µ—Ç **–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥—ã—Ä—ã**
* –£–ª—É—á—à–∞–µ—Ç **—Ç–∏–ø–æ–≤—É—é –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å**

---

## ‚ö†Ô∏è –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞: `default` –±–µ–∑ `never`

–ï—Å–ª–∏ –≤ `switch` –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç—å `default: return ...`, —Ç–æ TypeScript **–Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω–æ—Ç—É** ‚Äî –ª—É—á—à–µ –≤ `default` —è–≤–Ω–æ **–≤—ã–Ω–µ—Å—Ç–∏ `never`-–ø—Ä–æ–≤–µ—Ä–∫—É**.

---

## üí° –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ú–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å —É—Ç–∏–ª–∏—Ç—É:

```ts
function assertNever(x: never): never {
  throw new Error("Unexpected value: " + x);
}
```

–ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```ts
default:
  return assertNever(shape);
```

---

## üìå –í—ã–≤–æ–¥

–¢–∏–ø `never` ‚Äî —ç—Ç–æ **—Å–∏–≥–Ω–∞–ª –¥–ª—è TypeScript**, —á—Ç–æ **–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å**.
–ï—Å–ª–∏ –≤—ã –≥–¥–µ-—Ç–æ **–≤—Å—ë-—Ç–∞–∫–∏ –µ–≥–æ –ø–æ–ª—É—á–∏–ª–∏** ‚Äî –∑–Ω–∞—á–∏—Ç, **—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫**, –∏ **–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤–∞—Å –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç**.

---
