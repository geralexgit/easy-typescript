# –°—É–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

**–°—É–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤** (type narrowing) ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ TypeScript, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç "—É–º–Ω–æ–º—É" –∫–æ–¥—É –ø–æ–Ω–∏–º–∞—Ç—å, **—Å –∫–∞–∫–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–∏–ø–æ–º –æ–Ω —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç**, –µ—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤.

---

## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ —Å—É–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤?

> **–°—É–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ–≥–¥–∞ TypeScript **–ø–æ–Ω–∏–º–∞–µ—Ç –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `typeof`, `in`, `=== null`, –∏ —Ç. –¥.).

---

## üì¶ –ü—Ä–∏–º–µ—Ä: –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —Ç–∏–ø

```ts
function printId(id: string | number) {
  if (typeof id === "string") {
    console.log(id.toUpperCase()); // ‚úÖ id: string
  } else {
    console.log(id.toFixed(2)); // ‚úÖ id: number
  }
}
```

üìå –ó–¥–µ—Å—å TypeScript **—Å—É–∑–∏–ª —Ç–∏–ø** `id` –¥–æ `string` –∏–ª–∏ `number` –≤ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ.

---

## üîß –°–ø–æ—Å–æ–±—ã —Å—É–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤

### 1. **`typeof` ‚Äî –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤**

```ts
function handle(value: string | number | boolean) {
  if (typeof value === "string") {
    // value: string
  } else if (typeof value === "boolean") {
    // value: boolean
  } else {
    // value: number
  }
}
```

---

### 2. **`in` ‚Äî –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—è–º–∏**

```ts
type Cat = { meow: () => void };
type Dog = { bark: () => void };

function makeSound(pet: Cat | Dog) {
  if ("meow" in pet) {
    pet.meow(); // ‚úÖ pet: Cat
  } else {
    pet.bark(); // ‚úÖ pet: Dog
  }
}
```

---

### 3. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `null`, `undefined`**

```ts
function greet(name?: string) {
  if (name !== undefined) {
    console.log("Hello " + name.toUpperCase());
  }
}
```

---

### 4. **`===` / `!==` ‚Äî –¥–ª—è –ª–∏—Ç–µ—Ä–∞–ª–æ–≤**

```ts
type Status = "success" | "error";

function show(status: Status) {
  if (status === "success") {
    // status: "success"
  } else {
    // status: "error"
  }
}
```

---

### 5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π `type guard`**

```ts
type Fish = { swim: () => void };
type Bird = { fly: () => void };

function isFish(pet: Fish | Bird): pet is Fish {
  return "swim" in pet;
}

function move(pet: Fish | Bird) {
  if (isFish(pet)) {
    pet.swim(); // ‚úÖ pet: Fish
  } else {
    pet.fly(); // ‚úÖ pet: Bird
  }
}
```

---

## ‚ö†Ô∏è –ë–µ–∑ —Å—É–∂–µ–Ω–∏—è ‚Äî –ø–ª–æ—Ö–æ

```ts
function handle(id: string | number) {
  // id.toUpperCase(); // ‚ùå –û—à–∏–±–∫–∞!
}
```

---

## üß† –ö–∞–∫ –æ—Å–≤–æ–∏—Ç—å:

1. üìö –ü–æ–Ω–∏–º–∞–π –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã (`|`) –∏ –∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.
2. üõ† –£–ø—Ä–∞–∂–Ω—è–π—Å—è –ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç `string | number | boolean`, `A | B`, –∏ —Ç. –¥.
3. üîç –ò—Å–ø–æ–ª—å–∑—É–π `typeof`, `in`, `===`, `!==`, `instanceof` ‚Äî –∏ **–Ω–∞–±–ª—é–¥–∞–π**, –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Ç–∏–ø –≤ IDE.
4. ‚úçÔ∏è –ü–∏—à–∏ `type guard`-—Ñ—É–Ω–∫—Ü–∏–∏ (`pet is Dog`) ‚Äî —ç—Ç–æ –º–æ—â–Ω–æ!
5. üí° –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º, –µ—Å–ª–∏ —Ç–∏–ø –Ω–µ –æ–¥–Ω–æ–∑–Ω–∞—á–µ–Ω.

---

## ‚úÖ –°—É–∂–µ–Ω–∏–µ = –±–µ–∑ `any`, –±–µ–∑ –∫–∞—Å—Ç–æ–≤ (`as`), –±–µ–∑ –æ—à–∏–±–æ–∫

TypeScript —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–º, **–∫–æ–≥–¥–∞ —Ç—ã –ø–æ–∑–≤–æ–ª—è–µ—à—å –µ–º—É —Å—É–∑–∏—Ç—å —Ç–∏–ø**, –∞ –Ω–µ –≥–ª—É—à–∏—à—å –ø—Ä–æ–≤–µ—Ä–∫—É.

---
