# –ö–∞–∫ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Ç–∏–ø–æ–≤

–ü–∏—Å–∞—Ç—å **—Ç–µ—Å—Ç—ã –¥–ª—è —Ç–∏–ø–æ–≤ –≤ TypeScript** ‚Äî –∑–Ω–∞—á–∏—Ç **–ø—Ä–æ–≤–µ—Ä—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤**, –Ω–µ –∑–∞–ø—É—Å–∫–∞—è –∫–æ–¥. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫, –≥–¥–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã —Ç–∏–ø—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ.

---

## üìå –°–ø–æ—Å–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤

### ‚úÖ 1. **–° –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ (`@ts-expect-error`, `@ts-ignore`, `satisfies`, –∏ –¥—Ä.)**

–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±.

#### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–∏–ø —Å—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

```ts
type User = { name: string };

const validUser: User = { name: 'Alice' }; // ‚úîÔ∏è OK

// @ts-expect-error: missing property "name"
const invalidUser: User = {}; // ‚ùå –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
```

* `@ts-expect-error` ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É: **–æ–∂–∏–¥–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –∑–¥–µ—Å—å**
* –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ *–Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç* ‚Äî –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–∂–∞–ª—É–µ—Ç—Å—è

---

### ‚úÖ 2. **–° –ø–æ–º–æ—â—å—é `satisfies`**

`const x satisfies T` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ **—Ç–∏–ø `x` –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ `T`**, –Ω–æ –Ω–µ —Å—É–∂–∞–µ—Ç –µ–≥–æ.

```ts
const command = {
  type: 'start',
  payload: { verbose: true }
} satisfies { type: string, payload: object };
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø—É**, –Ω–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `command`.

---

### ‚úÖ 3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤**

#### üß™ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ [`tsd`](https://github.com/SamVerschueren/tsd)

* –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å *assertions* –Ω–∞ —Ç–∏–ø—ã –≤ –≤–∏–¥–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `npm install --save-dev tsd`
* –¢–µ—Å—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `test-d` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```ts
// example.test-d.ts
import { expectType, expectError } from 'tsd';

declare const result: number;

expectType<number>(result);    // ‚úîÔ∏è
expectError<string>(result);  // ‚ùå –û—à–∏–±–∫–∞, —Ç.–∫. result ‚Äî —ç—Ç–æ number
```

---

#### üß™ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: [`type-plus`](https://github.com/unional/type-plus)

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É—Ç–∏–ª–∏—Ç—ã –≤—Ä–æ–¥–µ `Equals<T, U>`, `IsAny<T>` –∏ —Ç.–¥.

---

## üß† –°–∞–º–æ–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ —É—Å–ª–æ–≤–Ω—ã–µ —Ç–∏–ø—ã

–¢—ã –º–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π "—Ç–µ—Å—Ç–æ–≤—ã–π" —Ç–∏–ø:

```ts
type AssertEqual<T, Expected> =
  (<G>() => G extends T ? 1 : 2) extends
  (<G>() => G extends Expected ? 1 : 2) ? true : false;

type Test1 = AssertEqual<string, string>;  // true
type Test2 = AssertEqual<string, number>;  // false
```

> –≠—Ç–æ—Ç —Ç—Ä—é–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç **—Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ç–∏–ø—ã –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ** (–∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å).

---

## üß™ –ì–¥–µ –ø–∏—Å–∞—Ç—å —Ç–∏–ø–æ–≤—ã–µ —Ç–µ—Å—Ç—ã?

* –û—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª: `types.test.ts` –∏–ª–∏ `*.test-d.ts`
* –ò—Å–ø–æ–ª—å–∑—É–π `tsd` –∏–ª–∏ `tsc` —Å `@ts-expect-error`
* –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ —Ä—è–¥–æ–º —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º —Ç–∏–ø–æ–≤ (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã)

---

## ‚úÖ –†–µ–∑—é–º–µ

| –ú–µ—Ç–æ–¥                        | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å                     |
| ---------------------------- | -------------------------------------- |
| `@ts-expect-error`           | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–∏–ø –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É     |
| `satisfies`                  | –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–±—ä–µ–∫—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–∏–ø—É    |
| `tsd`                        | –§–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Ç–∏–ø–æ–≤ –≤ CI            |
| `AssertEqual`, `Equals<T,U>` | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏) |

---
